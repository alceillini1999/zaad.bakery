<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Zaad Bakery â€” Employees</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">
  <link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <link href="/style.css" rel="stylesheet">
  <link href="/css/zaad-theme-cream.css" rel="stylesheet">
  <link rel="icon" href="/img/zaad-logo.jpeg">
</head>
<body>
  <!-- unified navbar (same as index.html) -->
  <nav class="navbar navbar-expand-lg navbar-light bg-white shadow-sm sticky-top">
    <div class="container">
      <a class="navbar-brand d-flex align-items-center gap-2" href="#">
        <img src="/img/zaad-logo.jpeg" alt="Zaad" width="36" height="36" class="rounded">
        <span class="fw-bold">Zaad Bakery</span>
      </a>
      <div class="ms-auto d-flex align-items-center gap-2 gap-md-3">
        <a href="/invoice.html" class="btn btn-sm btn-outline-dark"><i class="bi bi-receipt"></i> Invoices</a>
        <button id="btnShare" class="btn btn-outline-secondary btn-sm"><i class="bi bi-qr-code"></i> Share</button>
        <div class="form-check form-switch m-0">
          <input class="form-check-input" type="checkbox" role="switch" id="themeSwitch">
          <label class="form-check-label small" for="themeSwitch">Dark</label>
        </div>
      </div>
    </div>
  </nav>

  <!-- unified nav pills -->
  <div class="container mt-3">
    <ul class="nav nav-pills gap-2 flex-wrap" id="pageNav">
      <li class="nav-item"><a class="nav-link" href="/index.html"><i class="bi bi-cash-coin"></i> Sales</a></li>
      <li class="nav-item"><a class="nav-link" href="/expenses.html"><i class="bi bi-receipt"></i> Expenses</a></li>
      <li class="nav-item"><a class="nav-link" href="/credit.html"><i class="bi bi-people"></i> Credit</a></li>
      <li class="nav-item"><a class="nav-link" href="/orders.html"><i class="bi bi-bag-check"></i> Orders</a></li>
      <li class="nav-item"><a class="nav-link" href="/cash.html"><i class="bi bi-cash-stack"></i> Cash</a></li>
      <li class="nav-item"><a class="nav-link active" href="/employees.html"><i class="bi bi-person-badge"></i> Employees</a></li>
      <li class="nav-item"><a class="nav-link" href="/reports.html"><i class="bi bi-graph-up"></i> Reports</a></li>
      <li class="nav-item ms-auto"><a class="nav-link" href="/invoice.html"><i class="bi bi-receipt"></i> Invoices</a></li>
    </ul>
  </div>

  <main class="py-4">
    <div class="container">
      <div class="row g-4">
        <!-- Column 1: Employees master and Attendance form -->
        <div class="col-lg-6">
          <!-- Employees Master -->
          <div class="card mb-4">
            <div class="card-header bg-white fw-semibold"><i class="bi bi-people"></i> Employees</div>
            <div class="card-body">
              <form id="formEmployee" class="row g-3">
                <div class="col-md-6">
                  <label class="form-label">Name</label>
                  <input class="form-control" name="name" required>
                </div>
                <div class="col-md-6">
                  <label class="form-label">Phone</label>
                  <input class="form-control" name="phone">
                </div>
                <div class="col-12">
                  <label class="form-label">Note</label>
                  <input class="form-control" name="note" placeholder="Optional">
                </div>
                <div class="col-12 d-grid">
                  <button class="btn btn-primary" type="submit"><i class="bi bi-save"></i> Save Employee</button>
                </div>
              </form>

              <div class="table-responsive mt-3">
                <table class="table table-hover align-middle mb-0">
                  <thead class="table-light">
                    <tr><th>Name</th><th>Phone</th><th>Note</th></tr>
                  </thead>
                  <tbody id="tblEmployeesBody"><tr><td colspan="3" class="text-secondary p-3">No data.</td></tr></tbody>
                </table>
              </div>
            </div>
          </div>

          <!-- Attendance -->
          <div class="card">
            <div class="card-header bg-white fw-semibold"><i class="bi bi-calendar2-check"></i> Attendance</div>
            <div class="card-body">
              <form id="formAttendance" class="row g-3">
                <div class="col-md-6">
                  <label class="form-label">Employee</label>
                  <select class="form-select" id="attEmployee" name="employee" required></select>
                </div>
                <div class="col-md-6">
                  <label class="form-label">Action</label>
                  <select class="form-select" name="action" required>
                    <option value="check_in">Check-in</option>
                    <option value="check_out">Check-out</option>
                  </select>
                </div>
                <div class="col-md-6">
                  <label class="form-label">Time</label>
                  <input class="form-control" type="datetime-local" name="time">
                </div>
                <div class="col-md-6">
                  <label class="form-label">Note</label>
                  <input class="form-control" name="note" placeholder="Optional">
                </div>
                <div class="col-12 d-grid">
                  <button class="btn btn-primary" type="submit"><i class="bi bi-save"></i> Save Attendance</button>
                </div>
              </form>

              <div class="table-responsive mt-3">
                <table class="table table-hover align-middle mb-0">
                  <thead class="table-light">
                    <tr><th>Date/Time</th><th>Employee</th><th>Action</th><th>Note</th></tr>
                  </thead>
                  <tbody id="tblAttendanceBody"><tr><td colspan="4" class="text-secondary p-3">No data.</td></tr></tbody>
                </table>
              </div>
            </div>
          </div>
        </div>

        <!-- Column 2: Purchases & Advances and Mixed log -->
        <div class="col-lg-6">
          <!-- Employee Purchases -->
          <div class="card mb-4">
            <div class="card-header bg-white fw-semibold"><i class="bi bi-bag"></i> Employee Purchases</div>
            <div class="card-body">
              <form id="formEmpPurchase" class="row g-3">
                <div class="col-md-6">
                  <label class="form-label">Employee</label>
                  <select class="form-select" id="purEmployee" name="employee" required></select>
                </div>
                <div class="col-md-6">
                  <label class="form-label">Amount (KSh)</label>
                  <input class="form-control" name="amount" type="number" min="0" step="0.01" required>
                </div>
                <div class="col-12">
                  <label class="form-label">Note</label>
                  <input class="form-control" name="note" placeholder="Optional">
                </div>
                <div class="col-12 d-grid">
                  <button class="btn btn-primary" type="submit"><i class="bi bi-save"></i> Save Purchase</button>
                </div>
              </form>
            </div>
          </div>

          <!-- Employee Advances -->
          <div class="card mb-4">
            <div class="card-header bg-white fw-semibold"><i class="bi bi-currency-exchange"></i> Employee Advances</div>
            <div class="card-body">
              <form id="formEmpAdvance" class="row g-3">
                <div class="col-md-6">
                  <label class="form-label">Employee</label>
                  <select class="form-select" id="advEmployee" name="employee" required></select>
                </div>
                <div class="col-md-6">
                  <label class="form-label">Amount (KSh)</label>
                  <input class="form-control" name="amount" type="number" min="0" step="0.01" required>
                </div>
                <div class="col-12">
                  <label class="form-label">Note</label>
                  <input class="form-control" name="note" placeholder="Optional">
                </div>
                <div class="col-12 d-grid">
                  <button class="btn btn-primary" type="submit"><i class="bi bi-save"></i> Save Advance</button>
                </div>
              </form>
            </div>
          </div>

          <!-- Mixed Log -->
          <div class="card">
            <div class="card-header bg-white fw-semibold"><i class="bi bi-list-check"></i> Employee Purchases & Advances (Today)</div>
            <div class="card-body">
              <div class="table-responsive">
                <table class="table table-hover align-middle mb-0">
                  <thead class="table-light">
                    <tr><th>Date</th><th>Type</th><th>Employee</th><th class="text-end">Amount</th><th>Note</th></tr>
                  </thead>
                  <tbody id="tblEmpTransBody"><tr><td colspan="5" class="text-secondary p-3">No data.</td></tr></tbody>
                </table>
              </div>
            </div>
          </div>

        </div>
      </div>
    </div>
  </main>

  <!-- Toast (reuse same container/id as index for app.js) -->
  <div class="position-fixed bottom-0 end-0 p-3" style="z-index: 1080">
    <div id="appToast" class="toast text-bg-success align-items-center border-0" role="alert" aria-live="polite" aria-atomic="true">
      <div class="d-flex">
        <div class="toast-body"></div>
        <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast" aria-label="Close"></button>
      </div>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script src="/socket.io/socket.io.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
  <script src="/app.js"></script>
  <script src="/js/boot-mpa.js"></script>
</body>
</html>
